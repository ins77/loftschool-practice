{"version":3,"sources":["index.js"],"names":["View","props","screen","setScreen","_useState","useState","_useState2","Object","_Users_maksimivanov_workspace_loftschool_practice_06_cookie_auth_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","data","setData","deleteCookie","_ref","_Users_maksimivanov_workspace_loftschool_practice_06_cookie_auth_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_maksimivanov_workspace_loftschool_practice_06_cookie_auth_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","wrap","_context","prev","next","axios","get","t0","console","log","stop","apply","this","arguments","getData","_ref2","_callee2","res","_context2","sent","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","onClick","App","_useState3","_useState4","_useState5","_useState6","username","setUsername","_useState7","_useState8","password","setPassword","auth","_ref3","_callee3","_context3","undefined","readCookie","_ref4","_callee4","_context4","useEffect","className","type","onChange","e","target","value","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.5ee7622d.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from \"react-dom\";\n\nimport axios from 'axios';\n\nfunction View (props) {\n  const { screen, setScreen } = props;\n\n  const [data, setData] = useState();\n\n  const deleteCookie = async () => {\n    try {\n      await axios.get('/clear-cookie');\n      setScreen('auth');\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const getData = async () => {\n    try {\n      const res = await axios.get('/get-data');\n      console.log(res.data)\n      setData(res.data);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  return (\n    <div>\n      <p>{screen}</p>\n      <p>{data}</p>\n      <button onClick={getData}>Get Data</button>\n      <button onClick={deleteCookie}>Logout</button>\n    </div>\n  );\n}\n\nfunction App() {\n\n  const [screen, setScreen] = useState('auth');\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n\n  const auth = async () => {\n    try {\n      const res = await axios.get('/authenticate', { auth: { username, password } });\n\n      if (res.data.screen !== undefined) {\n        setScreen(res.data.screen);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const readCookie = async () => {\n    try {\n      const res = await axios.get('/read-cookie');\n      \n      if (res.data.screen !== undefined) {\n        setScreen(res.data.screen);\n      }\n    } catch (e) {\n      setScreen('auth');\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    readCookie();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      {screen === 'auth'\n        ? <div>\n            <label>Username: </label>\n            <br/>\n            <input type=\"text\" onChange={e => setUsername(e.target.value)} />\n            <br/>\n            <label>Password: </label>\n            <br/>\n            <input type=\"password\" onChange={e => setPassword(e.target.value)} />\n            <br/>\n            <button onClick={auth}>Login</button>\n          </div>\n        : <View screen={screen} setScreen={setScreen} />\n      }\n    </div>\n  );\n}\n\nexport default App;\n\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}